--- !!com.atlassian.bamboo.specs.util.BambooSpecProperties
rootEntity: !!com.atlassian.bamboo.specs.api.model.plan.PlanProperties
  description: Config generated automatically from Bamboo Spec. Any manual changes
    will be lost when it gets autogenerated again
  enabled: true
  key:
    key: SIM
  name: Build and release simple-app
  oid: null
  pluginConfigurations: []
  dependenciesProperties:
    childPlans: []
    dependenciesConfigurationProperties:
      blockingStrategy: NONE
      enabledForBranches: true
      requireAllStagesPassing: false
  forceStopHungBuilds: null
  notifications: []
  planBranchManagementProperties:
    branchIntegrationProperties:
      enabled: false
      gatekeeper: false
      integrationBranch: null
      pushOn: false
    createPlanBranch:
      matchingPattern: null
      trigger: MANUAL
    defaultTrigger: null
    deletePlanBranch:
      removeDeletedFromRepository: false
      removeDeletedFromRepositoryPeriod: !!java.time.Duration 'PT168H'
      removeInactiveInRepository: false
      removeInactiveInRepositoryPeriod: !!java.time.Duration 'PT720H'
    issueLinkingEnabled: true
    notificationStrategy: NOTIFY_COMMITTERS
    triggeringOption: INHERITED
  project:
    description: Config generated automatically from Bamboo Spec. Any manual changes
      will be lost when it gets autogenerated again
    key:
      key: SWAR
    name: Swarm
    oid: null
  repositories: []
  repositoryBranches: []
  repositoryStoredSpecsData: null
  stages:
  - description: ''
    finalStage: false
    jobs:
    - description: ''
      enabled: true
      key:
        key: JOB1
      name: Default Job
      oid: null
      pluginConfigurations: []
      artifactSubscriptions: []
      artifacts:
      - copyPattern: version.properties
        location: simple-app
        name: version.properties
        required: true
        shared: true
      cleanWorkingDirectory: false
      dockerConfiguration:
        enabled: false
        image: null
        volumes: {}
      finalTasks: []
      requirements: []
      tasks:
      - !!com.atlassian.bamboo.specs.model.task.CleanWorkingDirectoryTaskProperties
        conditions: []
        description: ''
        enabled: true
        requirements: []
      - !!com.atlassian.bamboo.specs.model.task.ScriptTaskProperties
        conditions: []
        description: Git clone simple-app
        enabled: true
        requirements: []
        argument: null
        body: git clone git@github.com:automatictester/simple-app.git
        environmentVariables: null
        interpreter: SHELL
        location: INLINE
        path: null
        workingSubdirectory: null
      - !!com.atlassian.bamboo.specs.model.task.ScriptTaskProperties
        conditions: []
        description: Build, push to docker registry and git
        enabled: true
        requirements: []
        argument: null
        body: |-
          set -x
          $(aws ecr get-login --no-include-email --region eu-west-2)
          ./gradlew clean release --no-daemon --info
        environmentVariables: null
        interpreter: SHELL
        location: INLINE
        path: null
        workingSubdirectory: simple-app
      - !!com.atlassian.bamboo.specs.model.task.ScriptTaskProperties
        conditions: []
        description: Prune Docker images
        enabled: true
        requirements: []
        argument: null
        body: docker image prune -f
        environmentVariables: null
        interpreter: SHELL
        location: INLINE
        path: null
        workingSubdirectory: null
      - !!com.atlassian.bamboo.specs.model.task.InjectVariablesTaskProperties
        conditions: []
        description: Get version number
        enabled: true
        requirements: []
        namespace: release
        path: simple-app/version.properties
        scope: RESULT
    manualStage: false
    name: Default Stage
  triggers: []
  variables: []
specModelVersion: 6.10.2
...
